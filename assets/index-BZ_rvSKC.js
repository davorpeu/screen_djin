import{u as F,a as k,r as t,j as q,M as B}from"./index-Cuaf7y_0.js";import{b as N,m as O,s as Q}from"./index-Cuaf7y_0.js";const G=()=>{var h,g,v;const{movies:o,search:s,getPopularMovies:a,getTopRatedMovies:l,searchForMovies:c}=F(),{isAuthenticated:T}=k(),[r,f]=t.useState(""),[u,n]=t.useState(1),[R,d]=t.useState("discover"),[m,C]=t.useState(null),[S,P]=t.useState(!1),i=9;t.useEffect(()=>{window.location.hash.replace("#","")==="lists"&&d("lists")},[]),t.useEffect(()=>{a(1),l(1)},[a,l]);const x=e=>{p("discover"),f(e),n(1),e.trim()&&c(e,1)},b=e=>{n(e),window.scrollTo(0,0),r?c(r,e):a(e)},p=e=>{d(e),n(1),window.location.hash=e==="lists"?"lists":""},w=()=>{P(!1),C(null)},A=()=>{const e=o.topRated.results||[];if(!Array.isArray(e))return[];const M=(u-1)*i,z=M+i;return e.slice(M,z)},E=((h=o.popular)==null?void 0:h.results)||[],j=A(),_=(s==null?void 0:s.results)||[],I=((g=o.popular)==null?void 0:g.total_pages)||1,L=((v=o.topRated)==null?void 0:v.total_pages)||1,V=(s==null?void 0:s.total_pages)||1,y=(s==null?void 0:s.loading)||!1;return q.jsx(B,{popularMovies:E,topRatedMovies:j,searchResults:_,currentPage:u,searchTerm:r,activeTab:R,isSearching:y,currentTrailer:m,trailerModalVisible:S,isAuthenticated:T,popularMoviesPages:I,topRatedMoviesPages:L,searchResultsPages:V,pageSize:i,onSearch:x,onPageChange:b,onTabChange:p,onCloseTrailer:w})};export{N as MovieCard,G as MoviesListContainer,O as moviesReducer,Q as searchReducer,F as useMovies};
